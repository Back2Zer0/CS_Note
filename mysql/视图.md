| **对象**                                    | **描述**                                                     |
| ------------------------------------------- | ------------------------------------------------------------ |
| 表(TABLE)                                   | 表是存储数据的逻辑单元，以行和列的形式存在，列就是字段，行就是记录 |
| 数据字典 就是系统表，存放数据库相关信息的表 | 系统表的数据通常由数据库系统维护， 程序员通常不应该修改，只可查看 |
| 约束 (CONSTRAINT)                           | 执行数据校验的规则，用于保证数据完整性的规则                 |
| 视图(VIEW)                                  | 一个或者多个数据表里的数据的逻辑显示，视图并不存储数据       |
| 索引(INDEX）                                | 用于提高查询性能，相当于书的目录                             |
| 存储过程 (PROCEDURE)                        | 用于完成一次完整的业务处理，没有返回值，但可通过传出参数将多个值传给调 |
| 存储函数 (FUNCTION)                         | 用于完成一次特定的计算，具有一个返回值                       |
| 触发器 (TRIGGER)                            | 相当于一个事件监听器，当数据库发生特定事件后，触发器被触发，完成相应的 |

- 视图是一种 虚拟表 ，本身是不具有数据的，占用很少的内存空间，它是 SQL 中的一个重要概念。 

- **视图建立在已有表的基础上**, 视图赖以建立的这些表称为**基表**。 

- 向视图提供数据内容的语句为 SELECT 语句, 可以将视图理解为**存储起来的** **SELECT** **语句** 

  在数据库中，视图不会保存数据，数据真正保存在数据表中。当对视图中的数据进行增加、删 

  除和修改操作时，数据表中的数据会相应地发生变化；反之亦然。 

- 视图，是向用户提供基表数据的另一种表现形式。小型项目的数据库可以不使用视图，但是在大型项目中，视图的价值就凸显出来了，它可以帮助我们把经常查询的结果集放到虚拟表中，提升使用效率。

- 当我们创建好一张视图之后，还可以在它的基础上继续创建视图。 

## 创建视图

```mysql
CREATE [OR REPLACE] [ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}] 
VIEW 视图名称 [(字段列表)] AS 查询语句
[WITH [CASCADED|LOCAL] CHECK OPTION] 
    
CREATE VIEW 视图名称 AS 查询语句
```

## 查看视图

```mysql
#语法1：查看数据库的表对象、视图对象
SHOW TABLES;
#语法2：查看视图的结构
DESC / DESCRIBE 视图名称;
#语法3：查看视图的属性信息
SHOW TABLE STATUS LIKE '视图名称'\G
#执行结果显示，注释Comment为VIEW，说明该表为视图，其他的信息为NULL，说明这是一个虚表。
#语法4：查看视图的详细定义信息
SHOW CREATE VIEW 视图名称;
```

## 更新视图

MySQL支持使用INSERT、UPDATE和DELETE语句对视图中的数据进行插入、更新和删除操作。

```mysql
SELECT ename,tel FROM emp_tel WHERE ename = '孙洪亮'; 
UPDATE emp_tel SET tel = '13789091234' WHERE ename = '孙洪亮';
DELETE FROM emp_tel WHERE ename = '孙洪亮'
```
# 修改
方式1：使用CREATE OR REPLACE VIEW 子句修改视图
```mysql
CREATE OR REPLACE VIEW empvu80 
(id_number, name, sal, department_id) AS
SELECT employee_id, first_name || ' ' || last_name, salary,department_id 
FROM employees 
WHERE department_id = 80;
```
>说明：CREATE VIEW 子句中各列的别名应和子查询中各列相对应。
方式2：ALTER VIEW
```mysql
ALTER VIEW 视图名称 AS 查询语句
```
# 删除
```mysql
DROP VIEW IF EXISTS 视图名称;
```
>- 删除视图只是删除视图的定义，并不会删除基表的数据。
>- 基于视图a、b创建了新的视图c，如果将视图a或者视图b删除，会导致视图c的查询失败。这
样的视图c需要手动删除或修改，否则影响使用。



##  不可更新的视图 

要使视图可更新，视图中的行和底层基本表中的行之间必须存在 一对一 的关系。另外当视图定义出现如 

下情况时，视图不支持更新操作： 

- 在定义视图的时候指定了“ALGORITHM = TEMPTABLE”，视图将不支持INSERT和DELETE操作； 

- 视图中不包含基表中所有被定义为非空又未指定默认值的列，视图将不支持INSERT操作； 

- 在定义视图的SELECT语句中使用了 JOIN联合查询 ，视图将不支持INSERT和DELETE操作； 

- 在定义视图的SELECT语句后的字段列表中使用了 数学表达式 或 子查询 ，视图将不支持INSERT，也 

- 不支持UPDATE使用了数学表达式、子查询的字段值； 

- 在定义视图的SELECT语句后的字段列表中使用 DISTINCT 、 聚合函数 、 GROUP BY 、 HAVING 、 

​       UNION 等，视图将不支持INSERT、UPDATE、DELETE； 

- 在定义视图的SELECT语句中包含了子查询，而子查询中引用了FROM后面的表，视图将不支持INSERT、UPDATE、DELETE； 

- 视图定义基于一个 不可更新视图 或 常量视图。 

>虽然可以更新视图数据，但总的来说，视图作为 虚拟表 ，主要用于 方便查询 ，不建议更新视图的 数据。对视图数据的更改，都是通过对实际数据表里数据的操作来完成的。

## 优缺点：
- 优点：

  1. **操作简单**
  2. **减少数据冗余** 
  3. **数据安全**
  4. **适应灵活多变的需求**
  5. **能够分解复杂的查询逻辑**

- 缺点：

  1. 如果实际数据表的结构变更了，我们就需要及时对 相关的视图进行相应的维护。

  2. 对于嵌套的视图，维护会变得比较复杂，可读性不好 ，容易变成系统的潜在隐患。

     > 因为创建视图的 SQL 查询可能会对字段重命名，也可能包含复杂的逻辑，这些都会增加维护的成本。 

  3. 实际项目中，如果视图过多，会导致数据库维护成本的问题。 
